(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"07aa":function(e,t,n){"use strict";var s=n("1a37"),a=n.n(s);a.a},"10d2":function(e,t,n){e.exports=n.p+"static/img/login-bg.4f6f0423.jpg"},1112:function(e,t,n){e.exports=n.p+"static/img/logo.12c4b0ae.png"},"1a37":function(e,t,n){},"1dd5":function(e,t,n){"use strict";var s=n("f8c8"),a=n.n(s);a.a},"1deb":function(e,t,n){e.exports={"layout-sider-background":"#0e1c26",theme:"#6959CD","layout-sider-color":"#bfcbd9"}},"1e1f":function(e,t,n){},2017:function(e,t,n){"use strict";var s=n("cafe"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,a,r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c={},l=c,u=(n("5c0b"),n("2877")),d=Object(u["a"])(l,o,i,!1,null,null,null),p=d.exports,m=(n("d3b7"),n("8c4f")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"login"},[n("img",{staticClass:"logobg",attrs:{src:e.img,alt:"背景图"}}),n("el-row",{staticClass:"login-form"},[n("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[n("el-form",{ref:"form",attrs:{model:e.person.formLabelAlign,rules:e.person.rules}},[n("el-form-item",{attrs:{prop:"userName"}},[n("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-user-solid",type:"username",placeholder:"请输入账户"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()}},model:{value:e.person.formLabelAlign.userName,callback:function(t){e.$set(e.person.formLabelAlign,"userName","string"===typeof t?t.trim():t)},expression:"person.formLabelAlign.userName"}})],1),n("el-form-item",{attrs:{prop:"passWord"}},[n("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-question",type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin()}},model:{value:e.person.formLabelAlign.passWord,callback:function(t){e.$set(e.person.formLabelAlign,"passWord","string"===typeof t?t.trim():t)},expression:"person.formLabelAlign.passWord"}})],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.login()}}},[e._v("立即登录")])],1),n("el-form-item",[n("span",{staticStyle:{color:"#000099"},on:{click:e.login}},[e._v("员工账号登陆")]),n("span",{staticStyle:{float:"right",color:"#A9A9AB"}},[e._v("忘记密码？")])])],1)],1)],1)],1)])},g=[],h=(n("96cf"),n("1da1")),b=n("10d2"),v=n.n(b),k=n("1112"),w=n.n(k),C="/api/user/login",y={data:function(){return{img:v.a,logo:w.a,person:{formLabelAlign:{userName:"admin",passWord:"123456"},rules:{userName:[{required:!0,message:"请输入账户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"}]}}}},mounted:function(){},methods:{login:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={username:e.person.formLabelAlign.userName,password:e.person.formLabelAlign.passWord},e.$refs.form.validate((function(t){if(!t)return!1;e.$post(C,n).then((function(t){e.$store.dispatch("user/setToken",t.token),e.$store.dispatch("user/saveUserInfo",t.data).then((function(){console.log("进入首页"),e.$router.push("/home")}))}))}));case 2:case"end":return t.stop()}}),t)})))()}}},_=y,O=(n("2017"),Object(u["a"])(_,f,g,!1,null,null,null)),S=O.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("navbar")],1),n("div",{staticClass:"u-main"},[n("sidebar",{staticClass:"aslide-sidebar"}),n("el-main",[n("router-view")],1)],1)])},$=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"this.$route.path",collapse:!e.collapse,"background-color":"#f2f2f2",router:""},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.pagerouter,(function(t){return n("el-submenu",{key:t.path,attrs:{index:t.path}},[n("template",{slot:"title"},[n("i",{class:t.meta.icon}),n("span",[e._v(e._s(t.meta.title))])]),t.children?n("el-menu-item-group",e._l(t.children,(function(t,s){return n("el-menu-item",{key:s,attrs:{index:t.path}},[e._v(e._s(t.meta.title))])})),1):e._e()],2)})),1)},I=[],L=n("b85c"),M=n("5530"),j=n("2f62"),T={name:"Newaside",data:function(){return{pagerouter:[]}},computed:Object(M["a"])({},Object(j["b"])(["collapse"])),mounted:function(){console.log("路由",this.$router.options.routes);var e,t=this.$router.options.routes,n=[],s=Object(L["a"])(t);try{for(s.s();!(e=s.n()).done;){var a=e.value;a.hidden&&n.push(a)}}catch(r){s.e(r)}finally{s.f()}this.pagerouter=n,console.log("值",this.pagerouter)},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},daohang:function(){this.isCollapse=!this.isCollapse}}},A=T,N=Object(u["a"])(A,E,I,!1,null,"2be17a73",null),R=N.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cms-header"},[n("div",{staticClass:"layout-logo"},[n("img",{attrs:{src:e.logo,alt:"公司logo"}})]),n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"function-item"},[n("i",{staticClass:"fold-unfold",class:e.collapse?"el-icon-s-unfold":"el-icon-s-fold",attrs:{title:e.collapse?"展开":"收起"},on:{click:e.handleCollapse}})]),n("div",{staticClass:"functionComponents"},[n("el-tooltip",{staticClass:"function-item",attrs:{content:e.$t("navbar.refresh"),effect:"dark",placement:"bottom"}},[n("i",{class:e.pulse?"el-icon-refresh icon-rotate":"el-icon-refresh",on:{click:e.refreshSelectedTag}})]),n("el-tooltip",{staticClass:"function-item",attrs:{content:e.$t("navbar.screen"),effect:"dark",placement:"bottom"}},[n("i",{staticClass:"el-icon-menu"})]),n("el-tooltip",{staticClass:"function-item",attrs:{content:e.$t("navbar.message"),effect:"dark",placement:"bottom"}},[n("i",{staticClass:"el-icon-message-solid",on:{click:function(t){return e.handleClick("msg")}}})]),n("el-tooltip",{staticClass:"function-item",attrs:{content:e.$t("navbar.lang"),effect:"dark",placement:"bottom"}},[n("language-change")],1),n("el-dropdown",{staticClass:"function-item",attrs:{trigger:"click"},on:{command:e.getUser}},[n("span",{staticClass:"el-dropdown-link"},[n("div",{staticClass:"profile"},[n("img",{staticClass:"userimage",attrs:{src:e.userProfile,alt:"用户头像"}})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dropdownList,(function(t,s){return n("el-dropdown-item",{key:s,attrs:{command:t.command}},[e._v(" "+e._s(e.$t("user."+t.command))+" ")])})),1)],1)],1)]),n("msg-list"),n("el-dialog",{attrs:{title:"用户信息",visible:e.userVisable},on:{"update:visible":function(t){e.userVisable=t}}},[n("el-table",[n("el-table-column",{attrs:{property:"date",label:"日期",width:"150"}}),n("el-table-column",{attrs:{property:"name",label:"姓名",width:"200"}}),n("el-table-column",{attrs:{property:"address",label:"地址"}})],1)],1)],1)},P=[],z=(n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"warn-transition"}},[e.openMsgVisible?n("div",{staticClass:"msg_main"},[n("el-card",{attrs:{shadow:"always"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("消息中心")]),n("i",{staticClass:"el-icon-close",staticStyle:{float:"right",padding:"3px 0"},on:{click:e.openMsg}})]),n("el-tabs",[n("el-tab-pane",{attrs:{label:"通知"}},[n("div",{staticClass:"msg_box"},[n("div",{staticClass:"info"},[n("div",{staticClass:"info-content"},[e._v("收到一封邮件")]),n("div",[e._v("2020-05-13 13:54")])])])]),n("el-tab-pane",{attrs:{label:"报警"}},[n("div",{staticClass:"msg_box"},[n("div",{staticClass:"info"},[n("div",{staticClass:"info-content"},[e._v("报警信息")]),n("div",[e._v("2020-05-13 13:54")])])])]),n("el-tab-pane",{attrs:{label:"日志"}},[n("div",{staticClass:"msg_box"},[n("div",{staticClass:"info"},[n("div",{staticClass:"info-content"},[e._v("日志信息")]),n("div",[e._v("2020-05-13 13:54")])])])])],1)],1)],1):e._e()])}),U=[],q={data:function(){return{}},computed:{openMsgVisible:function(){return JSON.parse(this.$store.getters.openMsg)}},methods:{openMsg:function(){this.$store.dispatch("base/setOpenMsg",!1)}}},H=q,G=(n("1dd5"),n("f592"),Object(u["a"])(H,z,U,!1,null,"39eef573",null)),W=G.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("div",{staticClass:"languageSvg"},[n("svg",{staticClass:"icon",attrs:{t:"1589967712468",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1370"}},[n("path",{attrs:{d:"M651.3 390.041h325.224a47.76 47.76 0 0 1 46.623 48.897v536.165A47.76 47.76 0 0 1 976.524 1024H419.322a47.76 47.76 0 0 1-46.623-48.897V633.959H46.907A47.76 47.76 0 0 1 0.284 585.062V48.897A47.76 47.76 0 0 1 46.907 0h557.77A47.76 47.76 0 0 1 651.3 48.897zM46.907 585.061h557.77V48.898H46.907v536.165z m635.665-16.488l-102.343 278.6h45.485l25.018-71.64h113.714l25.018 71.64h43.78l-102.912-278.6z m-22.175 170.572l44.35-126.223 47.19 126.223z m-354.22-625.43h35.251v71.071h135.32v188.198h-35.251V350.81H341.428V481.58h-33.546V350.81h-97.226v22.174h-35.251V184.786h132.477z m-95.52 200.706h96.657v-93.246h-96.658z m130.771 0h100.069v-93.246H341.428z","p-id":"1371",fill:"#515151"}})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"zh"}},[e._v("中文")]),n("el-dropdown-item",{attrs:{command:"en"}},[e._v("English")])],1)],1)],1)},F=[],J={methods:{handleCommand:function(e){this.$i18n.locale=e,this.$message({message:this.$t("checkOutLanguage"),type:"success"})}}},D=J,K=(n("ff15"),Object(u["a"])(D,B,F,!1,null,"55009e98",null)),Q=K.exports,X={components:{MsgList:W,LanguageChange:Q},data:function(){return{logo:n("63f3"),userProfile:n("62cb"),openMsgVisible:!1,userVisable:!1,dropdownList:[{name:"个人信息",command:"userInfo",icon:"el-icon-plus"},{name:"退出登录",command:"loginOut",icon:"el-icon-circle-plus"}],pulse:!1}},computed:Object(M["a"])({},Object(j["b"])(["collapse"])),methods:{refreshSelectedTag:function(){var e=this;this.pulse=!0,this.$router.replace({path:"/redirect"+this.$route.fullPath}).then((function(){setTimeout((function(){e.pulse=!1}),1e3)}))},getUser:function(e){switch(e){case"userInfo":this.userVisable=!0;break;case"loginOut":sessionStorage.clear(),location.reload();break}},handleClick:function(e,t){switch(e){case"msg":this.openMsgVisible=!this.openMsgVisible,this.$store.dispatch("base/setOpenMsg",this.openMsgVisible);break}},handleCollapse:function(){this.$store.dispatch("base/changeCollapse")}}},Y=X,Z=(n("77ce"),Object(u["a"])(Y,V,P,!1,null,null,null)),ee=Z.exports,te={},ne=Object(u["a"])(te,s,a,!1,null,null,null),se=(ne.exports,{name:"Layout",components:{Navbar:ee,Sidebar:R}}),ae=se,re=(n("07aa"),n("da9f"),Object(u["a"])(ae,x,$,!1,null,"0d1bafd8",null)),oe=re.exports;r["default"].use(m["a"]);var ie=[{path:"/login",component:S,name:"登录",hidden:!1,meta:{title:"登录",icon:""}},{path:"/home",name:"Home",component:oe,redirect:"/",hidden:!1,meta:{title:"首页",icon:""},children:[{path:"/",component:function(){return n.e("chunk-2d0e19c3").then(n.bind(null,"7abe"))},name:"home",meta:{title:"首页",icon:"el-icon-homepage"},children:[]}]},{path:"/redirect",component:oe,hidden:!1,children:[{path:"/redirect/:path(.*)",component:function(){return n.e("chunk-2d230fe7").then(n.bind(null,"ef3c"))}}]},{path:"/system",name:"System",component:oe,redirect:"/system/role",hidden:!0,meta:{title:"系统配置",icon:"el-icon-setting"},children:[{path:"/system/role",component:function(){return n.e("chunk-9a54ac10").then(n.bind(null,"f982"))},name:"Role",meta:{title:"角色管理",icon:"el-icon-user"}},{path:"/system/pageMsg",component:function(){return n.e("chunk-2d230de3").then(n.bind(null,"edb0"))},name:"PageMsg",meta:{title:"页面管理",icon:"el-icon-user"}}]}],ce=new m["a"]({routes:ie}),le=ce,ue={namespaced:!0,state:{token:sessionStorage.getItem("token"),userInfo:""},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER_INFO:function(e,t){e.userInfo=t}},actions:{setToken:function(e,t){var n=e.commit;return new Promise((function(e,s){n("SET_TOKEN",t),sessionStorage.setItem("token",t),e()}))},saveUserInfo:function(e,t){var n=e.commit;return new Promise((function(e,s){n("SET_USER_INFO",t),sessionStorage.setItem("user",JSON.stringify(t)),e()}))}}},de=ue,pe=(n("a9e3"),{namespaced:!0,state:{openMsg:sessionStorage.getItem("openMsg")||!1,lang:sessionStorage.getItem("lang")||"zh",collapse:!sessionStorage.getItem("sidebarStatus")||!!Number(sessionStorage.getItem("sidebarStatus"))},mutations:{SET_OPEN_MSG:function(e,t){e.openMsg=t},CHANGE_COLLAPSE:function(e,t){e.collapse=!e.collapse,e.collapse?sessionStorage.setItem("sidebarStatus",1):sessionStorage.setItem("sidebarStatus",0)}},actions:{setOpenMsg:function(e,t){var n=e.commit;sessionStorage.setItem("openMsg",t),n("SET_OPEN_MSG",t)},changeCollapse:function(e){var t=e.commit;t("CHANGE_COLLAPSE")}}}),me=pe,fe={token:function(e){return e.user.token},userInfo:function(e){return e.user.userInfo},openMsg:function(e){return e.base.openMsg},collapse:function(e){return e.base.collapse}},ge=fe;r["default"].use(j["a"]);var he=new j["a"].Store({modules:{user:de,base:me},getters:ge}),be=n("5c96"),ve=n.n(be);n("0fae"),n("1deb"),n("c975");function ke(e){var t="资源管理系统";return e+"-"+t}var we=["/login","/401","/404","/retrieve"];le.beforeEach(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.title=ke(t.meta.title),sessionStorage.getItem("token")?"/login"===t.path?(console.log("路由进入",t),s({path:"/home"})):s():(console.log("没有token",t),-1!==we.indexOf(t.path)?s():s("/login"));case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}());var Ce=n("bc3a"),ye=n.n(Ce),_e=ye.a.create({baseURL:"http://106.53.214.144:3001/",timeout:5e3});_e.interceptors.request.use((function(e){return console.log("拦截器config",e),e}),(function(e){console.log(e),Promise.reject(e)})),_e.interceptors.response.use((function(e){return console.log("响应的值",e.data),Promise.resolve(e.data)}),(function(e){console.log("设置response拦截器err"+e)}));var Oe=_e;function Se(e,t,n){return xe.apply(this,arguments)}function xe(){return xe=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,s){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Oe({url:t,method:"post",data:n});case 2:if(a=e.sent,200!==a.code){e.next=7;break}return e.abrupt("return",a.data);case 7:r=Ie(a.code,a.userMsg),Object(be["Message"])({message:r,type:"warning"});case 9:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function $e(e,t,n){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,s){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Oe({url:t,method:"get",data:n||{}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Ie(e,t){var n=(e+"").replace(/[^0-9]+/g,"")-0;switch(n){case 400:return"Bad Request (错误的请求)";case 401:return"Unauthorized (请求要求身份验证)";case 403:return"Forbidden (服务器拒绝请求)";case 404:return"NOT Found (服务器找不到请求的资源)";case 405:return"Bad Request (禁用请求中指定的方法)";case 406:return"Not Acceptable (无法使用请求的内容特性响应请求的网页)";case 407:return"Proxy Authentication Required (需要代理授权)";case 408:return"Request Timed-Out (服务器等候请求时发生超时)";case 409:return"Conflict (服务器在完成请求时发生冲突。服务器必须在响应中包含有关冲突的信息)";case 410:return"Gone (请求的资源已被永久删除)";case 411:return"Length Required (服务器不接受不含有效内容长度标头字段的请求)";case 412:return"Precondition Failed (未满足前提条件)";case 413:return"Request Entity Too Large (请求实体过大)";case 414:return"Request, URI Too Large (请求的 URI 过长)";case 415:return"Unsupported Media Type (不支持的媒体类型)";case 429:return"您的操作过于频繁,请稍后重试";case 500:return"Internal Server Error (服务器内部错误)";case 501:return"Not Implemented (尚未实施)";case 502:return"Bad Gateway (错误网关)";case 503:return"Server Unavailable (服务不可用)";case 504:return"Gateway Timed-Out (网关超时)";case 505:return"HTTP Version not supported (HTTP 版本不受支持)";case-999:return"(程序异常)";default:return t}}var Le={install:function(e,t){e.prototype.$post=Se,e.prototype.$get=$e}},Me=n("a925"),je=n("b2d6"),Te=n.n(je),Ae=n("f0d9"),Ne=n.n(Ae),Re={navbar:{home:"home",screen:"screen",message:"message",lang:"lang",refresh:"refresh"},user:{userInfo:"userInfo",loginOut:"loginOut"},checkOutLanguage:"Switch Language Success"},Ve={navbar:{home:"首页",screen:"开启全屏",message:"消息",lang:"语言",refresh:"刷新"},user:{userInfo:"个人信息",loginOut:"退出登录"},checkOutLanguage:"切换语言成功"};r["default"].use(Me["a"]);var Pe={en:Object(M["a"])({},Re,{},Te.a),zh:Object(M["a"])({},Ve,{},Ne.a)},ze=new Me["a"]({locale:sessionStorage.getItem("language")||"zh",messages:Pe}),Ue=ze;r["default"].use(Le),r["default"].use(ve.a,{i18n:function(e,t){return Ue.t(e,t)}}),r["default"].config.productionTip=!1,new r["default"]({router:le,store:he,i18n:Ue,render:function(e){return e(p)}}).$mount("#app")},5813:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var s=n("9c0c"),a=n.n(s);a.a},"62cb":function(e,t,n){e.exports=n.p+"static/img/admin.2ebe3e96.jpg"},"63f3":function(e,t,n){e.exports=n.p+"static/img/logo_header.596c6032.jpg"},"77ce":function(e,t,n){"use strict";var s=n("c8bd"),a=n.n(s);a.a},"9c0c":function(e,t,n){},be65:function(e,t,n){},c8bd:function(e,t,n){e.exports={"layout-sider-background":"#0e1c26",theme:"#6959CD","layout-sider-color":"#bfcbd9"}},cafe:function(e,t,n){e.exports={"layout-sider-background":"#0e1c26",theme:"#6959CD","layout-sider-color":"#bfcbd9"}},da9f:function(e,t,n){"use strict";var s=n("be65"),a=n.n(s);a.a},f592:function(e,t,n){"use strict";var s=n("5813"),a=n.n(s);a.a},f8c8:function(e,t,n){},ff15:function(e,t,n){"use strict";var s=n("1e1f"),a=n.n(s);a.a}},[[0,"runtime","chunk-vendors"]]]);